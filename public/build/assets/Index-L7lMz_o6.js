import{u as j,j as e,M as g,r as s,U as c,c as d}from"./app-BHMVinDP.js";import{c as b,b as f}from"./index-DYxhqOeq.js";import{u as N,a as v,B as w}from"./useAppUrl-6Pb8X6Db.js";import{A as C}from"./AuthenticatedLayout-5JsBVXQz.js";import"./iconBase-JGKODCjX.js";import"./transition-Wf3JQOJI.js";const i=["Course Name","Acronym",""],U=({auth:u})=>{const x=N(),m=j(),h=async({queryKey:r})=>(await d.get(`${x}/api/get_courses`)).data.courses,{data:n,error:A,isLoading:p,refetch:E}=v({queryKey:["courses"],queryFn:h,keepPreviousData:!0}),y=async r=>{var l,t;if(window.confirm("Are you sure you want to delete this strand?"))try{const o=await d.delete(`/admin/courses/${r}`);alert("Course was deleted successfully"),m.invalidateQueries(["courses"])}catch(o){console.error(o),alert("Error deleting strand: "+((t=(l=o.response)==null?void 0:l.data)==null?void 0:t.message)||o.message)}};return e.jsxs(C,{user:u.user,header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-green-100",children:"Courses"}),children:[e.jsx(g,{title:"Courses"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-4xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs(s.Card,{className:"h-full w-full",children:[e.jsx(s.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:e.jsxs("div",{className:"mb-2 flex items-center justify-between gap-8",children:[e.jsx(s.Typography,{variant:"h5",color:"blue-gray",children:"Courses"}),e.jsx(c,{href:route("courses.create"),children:e.jsxs(s.Button,{color:"blue",className:"flex items-center gap-1 rounded",size:"sm",children:[e.jsx(b,{strokeWidth:2,className:"h-5 w-5"}),"Add Course"]})})]})}),e.jsx(s.CardBody,{className:"px-0",children:e.jsxs("table",{className:"mt-4 w-full text-left table-layout",children:[e.jsx("thead",{children:e.jsx("tr",{children:i.map((r,a)=>e.jsx("th",{className:"border border-blue-gray-100 bg-blue-gray-50/50 p-3",children:e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"font-semibold leading-none",children:r||""})},a))})}),e.jsx("tbody",{children:p?e.jsx("tr",{children:e.jsx("td",{colSpan:i.length,className:"border border-blue-gray-100",children:e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(s.Spinner,{className:"h-10 w-10",color:"green"})})})}):n==null?void 0:n.map(({id:r,course_name:a,acronym:l},t)=>e.jsxs("tr",{className:"hover:bg-blue-gray-50",children:[e.jsx("td",{className:"border border-blue-gray-100 px-2",children:e.jsx(s.Typography,{variant:"small",className:"font-normal text-gray-800",children:a})}),e.jsx("td",{className:"border border-blue-gray-100 px-2",children:e.jsx(s.Typography,{variant:"small",className:"font-normal text-gray-800",children:l})}),e.jsx("td",{className:"border border-blue-gray-100 py-2 px-4 w-[10%]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.Tooltip,{content:"Edit Material",children:e.jsx(c,{className:"hover:bg-blue-800 hover:rounded hover:text-white",href:route("courses.edit",{id:r}),children:e.jsx(w,{className:"text-2xl"})})}),e.jsx(s.Tooltip,{content:"Delete Material",children:e.jsx("button",{className:"text-red-800 hover:bg-blue-800 hover:rounded",onClick:()=>y(r),children:e.jsx(f,{className:"text-2xl font-bold"})})})]})})]},t))})]})})]})})})})})]})};export{U as default};
